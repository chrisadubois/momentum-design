name: Continuous Deployment
run-name: ${{ github.actor }} is running continuous deployment

on:
  workflow_dispatch:
  push:
    branches:
       - main

env:
  DESIGN_BRANCH: design-token-updates


jobs:
  cd:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    steps:
      - name: Print Details
        run: echo "Details -> event - (${{ github.event_name }}) os - (${{ runner.os }}) branch - (${{ github.ref }})"
      - name: Run Pipeline CD script
        run:  echo "Not Complete"
      - uses: actions/checkout@v3
      - name: Set Git config
        run: |
          git config --local user.email "actions@github.com"
          git config --local user.name "Github Actions"
          git config pull.rebase true
      - name: Merge default branch into design branch
        run: |
          git fetch --unshallow
          git switch $DESIGN_BRANCH
          git pull origin ${{ github.event.repository.default_branch }}
          git push origin $DESIGN_BRANCH




